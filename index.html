<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JV8 - AI Affiliate Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href__="https://fonts.googleapis.com">
    <link rel="preconnect" href__="https://fonts.gstatic.com" crossorigin>
    <link href__="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .bg-gradient-hero {
            background-image: linear-gradient(135deg, #f5f3ff 0%, #fafafa 50%, #f3f6ff 100%);
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <!-- Header -->
    <header class="bg-white/80 backdrop-blur-xl border-b border-slate-200/60 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <img src="https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/348bfecfe_newjvlogo.png" alt="JV8 Logo" class="w-12 h-12" />
                <div>
                    <h1 class="text-xl font-bold text-slate-900">JV8</h1>
                    <p class="text-sm text-slate-500">AI Affiliate Platform</p>
                </div>
            </div>
            <a href__="https://preview--jv8-affiliate-652ca0ee.base44.app"
               class="px-6 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-shadow">
               Sign In
            </a>
        </div>
    </header>

    <!-- Hero Section -->
    <main class="bg-gradient-hero">
        <section class="py-24 md:py-32">
            <div class="max-w-7xl mx-auto px-6 text-center">
                <div class="bg-indigo-100 text-indigo-700 text-sm font-bold px-4 py-2 rounded-full inline-block mb-6">
                    ðŸš€ The Future of Affiliate Marketing is Here
                </div>
                <h1 class="text-4xl md:text-6xl font-extrabold text-slate-900 leading-tight max-w-4xl mx-auto">
                    Connect with 100
                    <span class="bg-gradient-to-r from-indigo-600 via-purple-600 to-blue-600 bg-clip-text text-transparent"> Dream Partners </span>
                    & Build Wealth Together
                </h1>
                <p class="mt-8 text-lg text-slate-600 max-w-2xl mx-auto">
                    Join the exclusive business network where AI connects you with your ideal partners, and an 8-level commission structure turns relationships into recurring revenue.
                </p>
                <div class="mt-12">
                    <a href__="https://preview--jv8-affiliate-652ca0ee.base44.app"
                       class="px-10 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl shadow-2xl hover:scale-105 transition-transform text-lg">
                        Get Started for Free
                    </a>
                    <p class="mt-4 text-sm text-slate-500">No credit card required</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Affiliate Tracking Script -->
    <script>
        (async function() {
            const urlParams = new URLSearchParams(window.location.search);
            const trackingCode = urlParams.get('ref');

            if (trackingCode) {
                console.log('Affiliate reference found:', trackingCode);
                try {
                    const response = await fetch('https://preview--jv8-affiliate-652ca0ee.base44.app/api/functions/trackAffiliateClick', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            trackingCode: trackingCode,
                            userAgent: navigator.userAgent,
                            referrer: document.referrer
                        })
                    });

                    if (response.ok) {
                        const data = await response.json();
                        if (data.success && data.affiliateId) {
                            // Store the referral ID to credit the affiliate on signup
                            localStorage.setItem('jv8_referral_id', data.affiliateId);
                            console.log('Referral ID stored:', data.affiliateId);
                        } else {
                           console.warn('Tracking endpoint returned success=false or no affiliateId.');
                        }
                    } else {
                        console.error('Failed to track affiliate click. Status:', response.status);
                    }

                } catch (error) {
                    console.error('Error during affiliate tracking API call:', error);
                } finally {
                    // Clean the URL to remove the ?ref__=... part, so it's not accidentally shared.
                    // This uses the History API to change the URL in the browser bar without reloading the page.
                    if (window.history.replaceState) {
                       const cleanUrl = window.location.protocol + "//" + window.location.host + window.location.pathname;
                       window.history.replaceState({ path: cleanUrl }, '', cleanUrl);
                    }
                }
            }
        })();
    </script>
</body>
</html>
